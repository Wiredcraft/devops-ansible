<!DOCTYPE html>
<html>
<head>
<title><%= package %> document</title>
</head>
<body>
<h1><% package %></h1>
<%= contents %>
<h1>Configuration</h1>
<% function render(item, obj) { %>
<% var pivot = 0; %>
<% var heads = ['h3', 'h4', 'h5', 'h6', 'h6', 'h6']; %>
<% function _render(item, obj, head) { %>
<% var tmp; %>
<<%= head %>><%= item %></<%= head %>>
<ul>
<% var keys = _(obj).keys(); %>
<% _(keys).forEach(function(k, i) { %>
<% if (_(obj[k]).isArray()) { %>
<% tmp = obj[k].join(',') || '[]'; %>
<li><%= k %>: <%= tmp %></li>
<% } else if (_(obj[k]).isObject()) { %>
<% if (i === 0) ++pivot %>
<% _render(k, obj[k], heads[pivot]); %>
<% } else { %>
<li><%= k %>: <%= obj[k] %></li>
<% } %>
<% }); %>
</ul>
<% } %>

<% _render(item, obj, heads[pivot]); %>

<% } %>
<% var itemKeys = _(configuration).keys(); %>
<%  _(itemKeys).forEach(function(ik) { %>
<% var tmp; %>
<h2><%= ik %></h2>
<ul>
<% var item1 = configuration[ik]; %>
<% if (_(item1).isArray()) { %>
<% tmp = item1.join(',') || '[]'; %>
<h2><%= tmp %></h2>
<% } else if (_(item1).isObject()) { %>
<% var keys = _(item1).keys(); %>
<% _(keys).forEach(function(k) { %>
<% if (_(item1[k]).isArray()) { %>
<% tmp = item1[k].join(',') || '[]'; %>
<li><%= k %>: <%= tmp %></li>
<% } else if (!_(item1[k]).isObject()) { %>
<li><%= k %>: <%= item1[k] %></li>
<% } else { %>
<% render(k, item1[k]); %>
<% } %>
<% }); %>
<% } else { %>
<% _(configuration).forEach(function(f) { %>
<li><%= f %>: <%= configuration[f] %></li>
<% }); %>
<% } %>
</ul>
<% }); %>
<a href="./tasks/index.html"><h1>Tasks</h1></a>
</body>
</html>
